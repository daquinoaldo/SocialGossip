\newpage

\newgeometry{left=2cm,right=2cm,top=1.5cm,bottom=1.5cm}
\section{Codice sorgente}

\makeatletter
\DeclareRobustCommand{\filename}[1]{
    \begingroup
        \def\textendash{-}
        \filename@parse{#1}
        \edef\filename@base{\detokenize\expandafter{\filename@base}}
        \texttt{\filename@base.\filename@ext}
    \endgroup
}
\makeatother

\newcommand{\addsrcfile}[1]{
    \filename{#1}
    \inputminted [
        linenos=true,
        numberblanklines=true,
        showspaces=false,
        breaklines=true,
        fontsize=\footnotesize
    ]{java}
    {#1}
    \bigskip \bigskip
}

\subsection{Client}
\addsrcfile{../../client/src/MainClient.java}

\subsubsection{Connections package}
\addsrcfile{../../client/src/connections/Connection.java}
\addsrcfile{../../client/src/connections/Multicast.java}
\addsrcfile{../../client/src/connections/Json.java}
\addsrcfile{../../client/src/connections/Filesystem.java}
\addsrcfile{../../client/src/connections/RMIManager.java}

\subsubsection{State package}
\addsrcfile{../../client/src/state/User.java}
\addsrcfile{../../client/src/state/Message.java}
\addsrcfile{../../client/src/state/Chat.java}
\addsrcfile{../../client/src/state/Room.java}
\addsrcfile{../../client/src/state/Friend.java}

\subsubsection{GUI package}
\addsrcfile{../../client/src/gui/Utils.java}

\subsubsection{GUI.Constants package}
\addsrcfile{../../client/src/gui/constants/Colors.java}
\addsrcfile{../../client/src/gui/constants/Dimensions.java}
\addsrcfile{../../client/src/gui/constants/Icons.java}

\subsubsection{GUI.Panels package}
\addsrcfile{../../client/src/gui/panels/LoginPanel.java}
\addsrcfile{../../client/src/gui/panels/RegisterPanel.java}
\addsrcfile{../../client/src/gui/panels/MainPanel.java}
\addsrcfile{../../client/src/gui/panels/ChatPanel.java}
\addsrcfile{../../client/src/gui/panels/CreateRoomPanel.java}
\addsrcfile{../../client/src/gui/panels/LookupPanel.java}

\subsubsection{GUI.Components package}
\addsrcfile{../../client/src/gui/components/ColorArrowUI.java}
\addsrcfile{../../client/src/gui/components/InputFactory.java}
\addsrcfile{../../client/src/gui/components/ListPanel.java}
\addsrcfile{../../client/src/gui/components/ListPanelFactory.java}
\addsrcfile{../../client/src/gui/components/LoginForm.java}
\addsrcfile{../../client/src/gui/components/Logo.java}
\addsrcfile{../../client/src/gui/components/RegisterForm.java}

\newpage
\subsection{Server}
\addsrcfile{../../server/src/MainServer.java}

\subsubsection{Connections package}
\addsrcfile{../../server/src/connections/Helpers.java}
\addsrcfile{../../server/src/connections/Reception.java}
\addsrcfile{../../server/src/connections/SocketSelector.java}
\addsrcfile{../../server/src/connections/Tasks.java}
\addsrcfile{../../server/src/connections/RequestsHandler.java}
\addsrcfile{../../server/src/connections/EndpointsHandler.java}
\addsrcfile{../../server/src/connections/Multicast.java}
\addsrcfile{../../server/src/connections/RMIManager.java}

\subsubsection{State package}
\addsrcfile{../../server/src/state/OnlineUsers.java}
\addsrcfile{../../server/src/state/User.java}

\subsubsection{Misc package}
\addsrcfile{../../server/src/misc/Database.java}
\addsrcfile{../../server/src/misc/Translation.java}
\addsrcfile{../../server/src/misc/Utils.java}

\restoregeometry

\newpage
\subsection{Common (condivisi tra Client e Server)}
\subsubsection{Remote Interfaces package}
\addsrcfile{../../common/src/remoteinterfaces/ServerInterface.java}
\addsrcfile{../../common/src/remoteinterfaces/ClientCallbackInterface.java}

\subsubsection{Misc package}
\addsrcfile{../../common/src/misc/Configuration.java}
\addsrcfile{../../common/src/misc/Endpoints.java}
\addsrcfile{../../common/src/misc/TriConsumer.java}
